# 리팩토링 원칙

## 1. 리팩토링 정의

- 명사 : 소프트웨어의 겉보기 동작은 그대로 유지한 채, 코드를 이해하고 수정하기도 쉽도록 내부 구조를 변경하는 기법

- 동사 : 소프트웨어의 겉보기 동작은 그대로 유지한 채, 여러 가지 리팩터링 기법을 적용해서 소프트웨어를 재구성하다.

```
리팩토링은 결국 동작을 보존하는 작은 단계들을 거쳐 코드를 수정하고, 이러한 단계들을 순차적으로 연결하여 큰 변화를 만들어내는 일
```

- 리팩토린 전과 후의 코드가 똑같이 동작해야 한다.
- **함수 추출하기**, **함수 선언 바꾸기**, **함수 옮기기**등과 같은 리팩토링을 해도 사용자 관점에서 달라지는 점이 없어야 한다.
- 리팩토링의 목적은 코드를 이해하고 수정하기 쉽게 만드는 것이다.
  - 성능최적화도 코드를 변경하지만 그 목적은 성능 개선에만 신경쓰여 있다.

<br/>
<br/>

## 2. 두 개의 모자

> ### 목적이 **기능 추가**인지 **리팩토링**인지를 명확히 구분해서 개발해야 한다.

<br/>

- 기능을 추가할 때는 기존 코드는 건드리지 않고 새 기능을 추가한다.
- 리팩토리 할 때에는 기능 추가는 절대 하지 않고 코드 재구성만 한다.
- 이 둘의 차이를 분명하게 인지해야 한다.

<br/>
<br/>

## 3. 리팩토링하는 이유

1. 소프트웨어 설계가 좋아진다.
   - <span style ="color : #FF604D" > 단기 목표만을 위해 코드를 수정하다보면 기반 구조가 무너지기 쉽다.</span>
   - <span style ="color : #FF604D" >악성 코드 누적이 진행될 수록 설계를 파악하기 어려워지고 설계가 결국 부패된다.</span>
   - `설계가 나쁜 코드 : 중복코드`
   - 중복코드 제거를 통해 모든 코드가 고유한 일을 수행함을 **보증**할 수 있다.
     <br/>
     <br/>
2. 소프트웨어를 이해하기 쉬워진다.
   - <span style ="color : #FF604D" >프로그램을 동작시키는 데만 신경 쓰다 보면 후에 그 코드를 다룰 개발자를 배려하지 못할 수도 있다.</span>
   - 리팩토링은 코드가 더 잘 읽히게 도와준다. - 리팩토링은 자신을 위해서 더 필요할 수도 있다.
     <br/>
     <br/>
3. 버그를 쉽게 찾을 수 있다.
4. 프로그래밍 속도를 높일 수 있다.
   - 새로운 기능을 추가할수록 기존 코드베이스에 잘 녹여낼 방법을 찾는데 드는 시간이 늘어나기 떄문
   - 내부 설계가 잘 된 소프트웨어는 새로운 기능을 추가할 지점과 고칠 방법을 쉽게 찾을 수 있다.
   - `설계 지구력 가설 : 내부 설계에 심혈을 기울일 수록 빠르게 개발할 수 있는 상태를 오래 지속할 수 있다는 가설`
